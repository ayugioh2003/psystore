(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77cfb4cc"],{1110:function(t,a,e){},"56b0":function(t,a,e){"use strict";var s=e("1110"),r=e.n(s);r.a},"62b3":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"banner bg-cover",staticStyle:{"background-image":"url(https://images.unsplash.com/photo-1557821552-17105176677c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1489&q=80)"}}),t.cart.carts?e("div",{staticClass:"container my-5"},[e("div",{staticClass:"row position-relative"},[e("div",{staticClass:"col-md-8"},[e("h2",{staticClass:"bg-primary text-white text-center p-3"},[t._v("購物清單確認")]),0===t.cart.carts.length?e("div",{staticClass:"text-center"},[t._v(" 購物清單內尚無商品，歡迎繼續 "),e("router-link",{attrs:{to:{name:"ProductList",params:{category:"所有商品"}}}},[e("u",[t._v("前往採購")])])],1):t._e(),e("table",{staticClass:"table table-cart-list"},[e("tbody",t._l(t.cart.carts,(function(a,s){return e("tr",{key:a.id},[e("td",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-md-3"},[e("div",{staticClass:"bg-cover",style:"\n                            background-image: url("+(a.product.imageUrl||"https://dummyimage.com/600x300/AAE.jpg")+");\n                            width: 100%;\n                            padding-top: 100%;\n                          "})]),e("div",{staticClass:"col-12 col-md-9 mt-3 mt-md-0 mb-5 mb-md-0"},[e("div",[t._v(t._s(a.product.title))]),e("div",{staticClass:"d-flex mt-3 align-items-center"},[e("div",{staticClass:"text-primary-light"},[t._v(" 總價 "+t._s(t._f("currency")(a.total))+" ")]),e("div",{staticClass:"d-flex ml-auto"},[e("div",{staticClass:"input-group mr-3",staticStyle:{width:"130px"}},[e("div",{staticClass:"input-group-prepend",attrs:{id:"button-addon1"}},[e("button",{directives:[{name:"debounce",rawName:"v-debounce:500ms",value:t.updateCart({product_id:a.product_id,qty:a.qty}),expression:"\n                                updateCart({\n                                  product_id: item.product_id,\n                                  qty: item.qty,\n                                })\n                              ",arg:"500ms"}],staticClass:"btn btn-outline-primary-light",class:{"not-allowed":a.qty<=1||a.qty+t.tempQty<=1},attrs:{type:"button",disabled:a.qty<=1||a.qty+t.tempQty<=1,"debounce-events":"click"},on:{click:function(a){return t.subTempQty(s)}}},[e("font-awesome-icon",{attrs:{icon:["fas","minus"]}})],1)]),e("div",{staticClass:"form-control text-center not-allowed",staticStyle:{width:"90px"},attrs:{type:"text"}},[t.tempIndex===s?e("span",[t._v(" "+t._s(a.qty+t.tempQty))]):e("span",[t._v(t._s(a.qty))])]),e("div",{staticClass:"input-group-append",attrs:{id:"button-addon2"}},[e("button",{directives:[{name:"debounce",rawName:"v-debounce:500ms",value:t.updateCart({product_id:a.product_id,qty:a.qty}),expression:"\n                                updateCart({\n                                  product_id: item.product_id,\n                                  qty: item.qty,\n                                })\n                              ",arg:"500ms"}],staticClass:"btn btn-outline-primary-light",attrs:{type:"button","debounce-events":"click"},on:{click:function(a){return t.addTempQty(s)}}},[e("font-awesome-icon",{attrs:{icon:["fas","plus"]}})],1)])]),e("button",{staticClass:"btn btn-outline-danger",on:{click:function(e){return t.removeCartItem(a.id)}}},[e("font-awesome-icon",{attrs:{icon:["far","trash-alt"]}})],1)])])])])])])})),0)])]),e("div",{staticClass:"col-md-4 "},[e("div",{staticClass:"sticky-top "},[e("div",{staticClass:"border "},[e("div",{staticClass:"h2 text-center bg-primary-light text-white py-3"},[t._v(" 訂單摘要 ")]),e("div",{staticClass:"p-3"},[t.cart.total?e("table",{staticClass:"table"},[e("tr",[e("td",[t._v("小計")]),e("td",{staticClass:"text-right"},[t._v("NT"+t._s(t._f("currency")(t.cart.total)))])]),e("tr",[e("td",[t._v("折扣")]),e("td",{staticClass:"text-right"},[t._v(" "+t._s(t.cart.total-t.cart.final_total)+" ")])]),e("tr",{staticClass:"h4"},[e("td",[t._v("總計")]),e("td",{staticClass:"text-right"},[t._v(" NT"+t._s(t._f("currency")(Math.ceil(t.cart.final_total)))+" ")])])]):t._e()])]),t.cart.carts.length>0?e("router-link",{staticClass:"btn btn-secondary w-100 py-3 h2",attrs:{to:"/checkout/order_create"}},[t._v("填寫訂購者資料")]):t._e(),t.cart.carts.length>0?e("div",{staticClass:"input-group mb-1"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter Coupon Code"},domProps:{value:t.code},on:{input:function(a){a.target.composing||(t.code=a.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-primary-light",attrs:{type:"button",id:"button-addon2"},on:{click:function(a){return t.addCouponCode(t.code)}}},[t._v(" 套用優惠碼 ")])])]):t._e(),t._m(0)],1)])])]):t._e()])},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mb-3 text-right text-danger"},[e("div",[t._v("全館五折特價中")]),e("div",[t._v("輸入優惠碼：TaiwanCanHelp")])])}],i=e("5530"),c=e("2f62"),n={data:function(){return{code:""}},metaInfo:{title:"購物清單 | PsyStore"},computed:Object(i["a"])({},Object(c["c"])("cart",["cart","tempQty","tempIndex"]),{cartsLength:function(){var t=this;if(t.cart.carts)return t.cart.carts.length}}),methods:Object(i["a"])({},Object(c["b"])(["addCouponCode"]),{},Object(c["b"])("cart",["getCart","removeCartItem","updateCart","addTempQty","subTempQty"]),{cartZeroHandler:function(t){var a=this;0===t&&(a.$router.push({name:"ProductList",params:{category:"所有商品"}}),a.$store.dispatch("alertMessage/updateMessage",{message:"購物清單為空，重新導回商品頁面",status:"warning"}))},updateCart:function(t){var a=this;return function(){a.$store.dispatch("cart/updateCart",{product_id:t.product_id,qty:a.tempQty})}}}),watch:{cartsLength:function(t){var a=this;a.cartZeroHandler(t)}},mounted:function(){var t=this;t.getCart().then(t.cartZeroHandler(t.cartsLength))}},o=n,d=(e("56b0"),e("2877")),l=Object(d["a"])(o,s,r,!1,null,"6baddfba",null);a["default"]=l.exports}}]);
//# sourceMappingURL=chunk-77cfb4cc.7796993b.js.map