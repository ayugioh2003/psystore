{"version":3,"sources":["webpack:///./src/views/front/Cart.vue?7e28","webpack:///src/views/front/Cart.vue","webpack:///./src/views/front/Cart.vue?0568","webpack:///./src/views/front/Cart.vue","webpack:///./src/views/front/Cart.vue?24ea"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","cart","_v","carts","length","attrs","name","params","category","_e","_l","item","index","key","id","style","product","imageUrl","_s","title","_f","price","directives","rawName","value","updateCart","product_id","qty","expression","arg","class","tempQty","on","$event","subTempQty","tempIndex","addTempQty","total","removeCartItem","final_total","Math","ceil","domProps","target","composing","code","addCouponCode","_m","staticRenderFns","data","metaInfo","computed","cartsLength","vm","methods","cartZeroHandler","$router","push","$store","dispatch","message","status","test","payload","watch","val","mounted","getCart","then","component"],"mappings":"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","file":"js/chunk-8c5a9a56.1b93309a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"banner bg-cover\",staticStyle:{\"background-image\":\"url(https://images.unsplash.com/photo-1557821552-17105176677c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1489&q=80)\"}}),(_vm.cart.carts)?_c('div',{staticClass:\"container my-5\"},[_c('div',{staticClass:\"row position-relative\"},[_c('div',{staticClass:\"col-md-8\"},[_c('h2',{staticClass:\"bg-primary text-white text-center p-3\"},[_vm._v(\"購物清單確認\")]),(_vm.cart.carts.length === 0)?_c('div',{staticClass:\"text-center\"},[_vm._v(\" 購物清單內尚無商品，歡迎繼續 \"),_c('router-link',{attrs:{\"to\":{\n              name: 'ProductList',\n              params: {\n                category: '所有商品',\n              },\n            }}},[_c('u',[_vm._v(\"前往採購\")])])],1):_vm._e(),_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table table-cart-list\"},[_c('tbody',_vm._l((_vm.cart.carts),function(item,index){return _c('tr',{key:item.id},[_c('td',[_c('div',{staticClass:\"bg-cover\",style:((\"\\n                    background-image: url(\" + (item.product.imageUrl ||\n                      'https://dummyimage.com/600x300/AAE.jpg') + \");\\n                    width: 100px;\\n                    height: 100px;\\n                  \"))})]),_c('td',{staticClass:\"align-middle\"},[_c('div',{staticStyle:{\"width\":\"250px\"}},[_vm._v(\" \"+_vm._s(item.product.title)+\" | \"+_vm._s(_vm._f(\"currency\")(item.product.price))+\" \")])]),_c('td',{staticClass:\"align-middle\"},[_c('div',{staticClass:\"input-group\",staticStyle:{\"width\":\"130px\"}},[_c('div',{staticClass:\"input-group-prepend\",attrs:{\"id\":\"button-addon1\"}},[_c('button',{directives:[{name:\"debounce\",rawName:\"v-debounce:500ms\",value:(\n                          _vm.updateCart({\n                            product_id: item.product_id,\n                            qty: item.qty,\n                          })\n                        ),expression:\"\\n                          updateCart({\\n                            product_id: item.product_id,\\n                            qty: item.qty,\\n                          })\\n                        \",arg:\"500ms\"}],staticClass:\"btn btn-outline-primary-light\",class:{\n                          'not-allowed':\n                            item.qty <= 1 || item.qty + _vm.tempQty <= 1,\n                        },attrs:{\"type\":\"button\",\"disabled\":item.qty <= 1 || item.qty + _vm.tempQty <= 1,\"debounce-events\":\"click\"},on:{\"click\":function($event){return _vm.subTempQty(index)}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'minus']}})],1)]),_c('div',{staticClass:\"form-control text-center not-allowed\",staticStyle:{\"width\":\"90px\"},attrs:{\"type\":\"text\"}},[(_vm.tempIndex === index)?_c('span',[_vm._v(\" \"+_vm._s(item.qty + _vm.tempQty))]):_c('span',[_vm._v(_vm._s(item.qty))])]),_c('div',{staticClass:\"input-group-append\",attrs:{\"id\":\"button-addon2\"}},[_c('button',{directives:[{name:\"debounce\",rawName:\"v-debounce:500ms\",value:(\n                          _vm.updateCart({\n                            product_id: item.product_id,\n                            qty: item.qty,\n                          })\n                        ),expression:\"\\n                          updateCart({\\n                            product_id: item.product_id,\\n                            qty: item.qty,\\n                          })\\n                        \",arg:\"500ms\"}],staticClass:\"btn btn-outline-primary-light\",attrs:{\"type\":\"button\",\"debounce-events\":\"click\"},on:{\"click\":function($event){return _vm.addTempQty(index)}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'plus']}})],1)])])]),_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.total))+\" \")]),_c('td',{staticClass:\"align-middle\"},[_c('button',{staticClass:\"btn btn-outline-danger\",on:{\"click\":function($event){return _vm.removeCartItem(item.id)}}},[_c('font-awesome-icon',{attrs:{\"icon\":['far', 'trash-alt']}})],1)])])}),0)])])]),_c('div',{staticClass:\"col-md-4 \"},[_c('div',{staticClass:\"sticky-top \"},[_c('div',{staticClass:\"border \"},[_c('div',{staticClass:\"h2 text-center bg-primary-light text-white py-3\"},[_vm._v(\" 訂單摘要 \")]),_c('div',{staticClass:\"p-3\"},[(_vm.cart.total)?_c('table',{staticClass:\"table\"},[_c('tr',[_c('td',[_vm._v(\"小計\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"NT\"+_vm._s(_vm._f(\"currency\")(_vm.cart.total)))])]),_c('tr',[_c('td',[_vm._v(\"折扣\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm.cart.total - _vm.cart.final_total)+\" \")])]),_c('tr',{staticClass:\"h4\"},[_c('td',[_vm._v(\"總計\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" NT\"+_vm._s(_vm._f(\"currency\")(Math.ceil(_vm.cart.final_total)))+\" \")])])]):_vm._e()])]),(_vm.cart.carts.length > 0)?_c('router-link',{staticClass:\"btn btn-secondary w-100 py-3 h2\",attrs:{\"to\":\"/checkout/order_create\"}},[_vm._v(\"填寫訂購者資料\")]):_vm._e(),(_vm.cart.carts.length > 0)?_c('div',{staticClass:\"input-group mb-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.code),expression:\"code\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Enter Coupon Code\"},domProps:{\"value\":(_vm.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.code=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-primary-light\",attrs:{\"type\":\"button\",\"id\":\"button-addon2\"},on:{\"click\":function($event){return _vm.addCouponCode(_vm.code)}}},[_vm._v(\" 套用優惠碼 \")])])]):_vm._e(),_vm._m(0)],1)])])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mb-3 text-right text-danger\"},[_c('div',[_vm._v(\"全館五折特價中\")]),_c('div',[_vm._v(\"輸入優惠碼：TaiwanCanHelp\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div\n      class=\"banner bg-cover\"\n      style=\"background-image: url(https://images.unsplash.com/photo-1557821552-17105176677c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1489&q=80);\n      \"\n    ></div>\n    <div class=\"container my-5\" v-if=\"cart.carts\">\n      <div class=\"row position-relative\">\n        <!-- 購物清單 -->\n        <div class=\"col-md-8\">\n          <h2 class=\"bg-primary text-white text-center p-3\">購物清單確認</h2>\n\n          <div class=\"text-center\" v-if=\"cart.carts.length === 0\">\n            購物清單內尚無商品，歡迎繼續\n            <router-link\n              class=\"\"\n              :to=\"{\n                name: 'ProductList',\n                params: {\n                  category: '所有商品',\n                },\n              }\"\n              ><u>前往採購</u></router-link\n            >\n          </div>\n\n          <div class=\"table-responsive\">\n            <table class=\"table table-cart-list\">\n              <tbody>\n                <tr v-for=\"(item, index) in cart.carts\" :key=\"item.id\">\n                  <td>\n                    <div\n                      class=\"bg-cover\"\n                      :style=\"\n                        `\n                      background-image: url(${item.product.imageUrl ||\n                        'https://dummyimage.com/600x300/AAE.jpg'});\n                      width: 100px;\n                      height: 100px;\n                    `\n                      \"\n                    ></div>\n                  </td>\n                  <td class=\"align-middle\">\n                    <div style=\"width: 250px\">\n                      {{ item.product.title }} |\n                      {{ item.product.price | currency }}\n                    </div>\n                  </td>\n                  <td class=\"align-middle\">\n                    <!-- {{ item.qty }}\n                  {{ item.product.unit }} -->\n                    <div class=\"input-group\" style=\"width: 130px\">\n                      <div class=\"input-group-prepend\" id=\"button-addon1\">\n                        <button\n                          type=\"button\"\n                          class=\"btn btn-outline-primary-light\"\n                          :class=\"{\n                            'not-allowed':\n                              item.qty <= 1 || item.qty + tempQty <= 1,\n                          }\"\n                          :disabled=\"item.qty <= 1 || item.qty + tempQty <= 1\"\n                          v-debounce:500ms=\"\n                            updateCart({\n                              product_id: item.product_id,\n                              qty: item.qty,\n                            })\n                          \"\n                          debounce-events=\"click\"\n                          @click=\"subTempQty(index)\"\n                        >\n                          <font-awesome-icon :icon=\"['fas', 'minus']\" />\n                        </button>\n                      </div>\n\n                      <div\n                        type=\"text\"\n                        class=\"form-control text-center not-allowed\"\n                        style=\"width:90px\"\n                      >\n                        <span v-if=\"tempIndex === index\">\n                          {{ item.qty + tempQty }}</span\n                        >\n                        <span v-else>{{ item.qty }}</span>\n                      </div>\n                      <div class=\"input-group-append\" id=\"button-addon2\">\n                        <button\n                          class=\"btn btn-outline-primary-light\"\n                          type=\"button\"\n                          v-debounce:500ms=\"\n                            updateCart({\n                              product_id: item.product_id,\n                              qty: item.qty,\n                            })\n                          \"\n                          debounce-events=\"click\"\n                          @click=\"addTempQty(index)\"\n                        >\n                          <font-awesome-icon :icon=\"['fas', 'plus']\" />\n                        </button>\n                      </div>\n                    </div>\n                  </td>\n                  <td class=\"align-middle text-right\">\n                    {{ item.total | currency }}\n                  </td>\n                  <td class=\"align-middle\">\n                    <button\n                      class=\"btn btn-outline-danger\"\n                      @click=\"removeCartItem(item.id)\"\n                    >\n                      <font-awesome-icon :icon=\"['far', 'trash-alt']\" />\n                    </button>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n        <!-- 訂單摘要 -->\n        <div class=\"col-md-4 \">\n          <div class=\"sticky-top \">\n            <div class=\"border \">\n              <div class=\"h2 text-center bg-primary-light text-white py-3\">\n                訂單摘要\n              </div>\n              <div class=\"p-3\">\n                <table class=\"table\" v-if=\"cart.total\">\n                  <tr>\n                    <td>小計</td>\n                    <td class=\"text-right\">NT{{ cart.total | currency }}</td>\n                  </tr>\n                  <tr>\n                    <td>折扣</td>\n                    <td class=\"text-right\">\n                      {{ cart.total - cart.final_total }}\n                    </td>\n                  </tr>\n                  <tr class=\"h4\">\n                    <td>總計</td>\n                    <td class=\"text-right\">\n                      NT{{ Math.ceil(cart.final_total) | currency }}\n                    </td>\n                  </tr>\n                </table>\n              </div>\n            </div>\n            <router-link\n              v-if=\"cart.carts.length > 0\"\n              to=\"/checkout/order_create\"\n              class=\"btn btn-secondary w-100 py-3 h2\"\n              >填寫訂購者資料</router-link\n            >\n            <div class=\"input-group mb-1\" v-if=\"cart.carts.length > 0\">\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"Enter Coupon Code\"\n                v-model=\"code\"\n              />\n              <div class=\"input-group-append\">\n                <button\n                  class=\"btn btn-outline-primary-light\"\n                  type=\"button\"\n                  id=\"button-addon2\"\n                  @click=\"addCouponCode(code)\"\n                >\n                  套用優惠碼\n                </button>\n              </div>\n            </div>\n            <div class=\"mb-3 text-right text-danger\">\n              <div>全館五折特價中</div>\n              <div>輸入優惠碼：TaiwanCanHelp</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\n\nexport default {\n  data() {\n    return {\n      code: '',\n    };\n  },\n  metaInfo: {\n    title: '購物清單 | PsyStore',\n  },\n  computed: {\n    ...mapGetters('cart', ['cart', 'tempQty', 'tempIndex']),\n    cartsLength() {\n      const vm = this;\n      if (vm.cart.carts) return vm.cart.carts.length;\n      return undefined;\n    },\n  },\n  methods: {\n    ...mapActions(['addCouponCode']),\n    ...mapActions('cart', [\n      'getCart',\n      'removeCartItem',\n      'updateCart',\n      'addTempQty',\n      'subTempQty',\n    ]),\n    cartZeroHandler(length) {\n      const vm = this;\n      if (length === 0) {\n        vm.$router.push({\n          name: 'ProductList',\n          params: {\n            category: '所有商品',\n          },\n        });\n        vm.$store.dispatch('alertMessage/updateMessage', {\n          message: '購物清單為空，重新導回商品頁面',\n          status: 'warning',\n        });\n      }\n    },\n    test(val) {\n      return () => {\n        console.log(val);\n      };\n    },\n    updateCart(payload) {\n      const vm = this;\n      return () => {\n        vm.$store.dispatch('cart/updateCart', {\n          product_id: payload.product_id,\n          qty: vm.tempQty,\n        });\n      };\n    },\n  },\n  watch: {\n    cartsLength(val) {\n      const vm = this;\n      vm.cartZeroHandler(val);\n    },\n  },\n  mounted() {\n    const vm = this;\n    vm.getCart().then(vm.cartZeroHandler(vm.cartsLength));\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.table td {\n  border: none;\n}\n.table-cart-list td {\n  border-bottom: 1px solid #dee2e6;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=6724aaee&scoped=true&\"\nimport script from \"./Cart.vue?vue&type=script&lang=js&\"\nexport * from \"./Cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Cart.vue?vue&type=style&index=0&id=6724aaee&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6724aaee\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=style&index=0&id=6724aaee&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=style&index=0&id=6724aaee&lang=scss&scoped=true&\""],"sourceRoot":""}