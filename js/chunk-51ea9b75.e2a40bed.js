(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51ea9b75"],{"0635":function(t,s,r){"use strict";r.r(s);var e=function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("div",[r("CheckoutOrder")],1)},d=[],a=r("5a5e"),o={metaInfo:function(){return{title:"金流付款 | PsyStore"}},data:function(){return{}},components:{CheckoutOrder:a["a"]},mounted:function(){var t=this;t.$store.dispatch("order/setOrderStep","paying")}},i=o,c=r("2877"),n=Object(c["a"])(i,e,d,!1,null,null,null);s["default"]=n.exports},"5a5e":function(t,s,r){"use strict";var e=function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("div",[r("div",{staticClass:"container my-5"},[r("h2",{staticClass:"text-center mb-3"},[t._v("訂單明細")]),r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-lg-8"},[t.order.user?r("table",{staticClass:"table"},[r("tbody",[r("tr",[r("td",{staticClass:"row"},[r("div",{staticClass:"col-md-2 mb-1 mb-md-0"},[t._v("訂單編號")]),r("div",{staticClass:"col-md-10 text-nowrap"},[t._v(t._s(t.order.id))])])]),r("tr",[r("td",{staticClass:"row"},[r("div",{staticClass:"col-md-2 mb-1 mb-md-0"},[t._v("訂購資料")]),r("div",{staticClass:"d-none d-md-block col-md-10"},[r("div",[t._v("姓名："+t._s(t.order.user.name))]),r("div",[t._v("信箱："+t._s(t.order.user.email))]),r("div",[t._v("電話："+t._s(t.order.user.tel))]),r("div",[t._v("地址："+t._s(t.order.user.address))])]),r("ul",{staticClass:"d-block d-md-none col-md-10 ml-4"},[r("li",[t._v("姓名："+t._s(t.order.user.name))]),r("li",[t._v("信箱："+t._s(t.order.user.email))]),r("li",[t._v("電話："+t._s(t.order.user.tel))]),r("li",[t._v("地址："+t._s(t.order.user.address))])])])]),r("tr",[r("td",{staticClass:"row"},[r("div",{staticClass:"col-md-2 mb-1 mb-md-0"},[t._v("訂購項目")]),r("div",{staticClass:"d-none d-md-block col-md-10"},t._l(t.order.products,(function(s){return r("div",{key:s.id},[t._v(" "+t._s(s.product.title)+" * "+t._s(s.qty)+" "+t._s(s.product.unit)+" ")])})),0),r("ul",{staticClass:"d-block d-md-none col-md-10 ml-4"},t._l(t.order.products,(function(s){return r("li",{key:s.id},[t._v(" "+t._s(s.product.title)+" * "+t._s(s.qty)+" "+t._s(s.product.unit)+" ")])})),0)])]),r("tr",[r("td",{staticClass:"row"},[r("div",{staticClass:"col-md-2"},[t._v("結帳金額")]),r("div",{staticClass:"col-md-10"},[t._v(t._s(t.order.total)+" 元")])])])]),r("tfoot",[r("tr",[r("td",{staticClass:"row"},[r("div",{staticClass:"col-md-2"},[t._v("付款狀態")]),r("div",{staticClass:"col-md-10"},[t.order.is_paid?r("div",{staticClass:"text-success"},[t._v(" 付款成功 ")]):r("div",{staticClass:"text-danger"},[t._v(" 尚未付款 ")])])])]),t.order.is_paid?r("tr",[r("td",{staticClass:"pt-3"},[r("router-link",{staticClass:"btn btn-secondary btn-lg btn-block",attrs:{to:"/products"}},[t._v(" 繼續購物")])],1)]):r("tr",[r("td",{staticClass:"pt-3"},[r("button",{staticClass:"btn btn-secondary btn-lg btn-block",on:{click:t.payOrder}},[t._v(" 前往付款 ")])])])])]):t._e()])])])])},d=[],a=(r("b0c0"),r("5530")),o=r("2f62"),i={data:function(){return{}},computed:Object(a["a"])({},Object(o["c"])("order",["order"])),methods:Object(a["a"])({},Object(o["b"])("cart",["getCart"]),{},Object(o["b"])("order",["setOrderStep","getOrder","payOrder"]),{payOrder:function(){var t=this,s=t.$route.params.id;t.$store.dispatch("order/payOrder",s).then((function(){t.setOrderStep("paid"),t.$router.push({name:"OrderPaid"})}))}}),mounted:function(){var t=this;t.$store.dispatch("setIsLoading",!0,{root:!0}),t.getCart().then((function(){t.getOrder(t.$route.params.id).then((function(){var s="OrderPaid"===t.$route.name;!s&&t.order.is_paid&&t.$router.push({name:"OrderPaid"}),s&&!t.order.is_paid&&t.$router.push({name:"OrderPaying"}),t.$store.dispatch("setIsLoading",!1,{root:!0})}))}))}},c=i,n=r("2877"),l=Object(n["a"])(c,e,d,!1,null,null,null);s["a"]=l.exports}}]);
//# sourceMappingURL=chunk-51ea9b75.e2a40bed.js.map