(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21de4f"],{d2f1:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("div",{staticClass:"banner bg-cover",staticStyle:{"background-image":"url(https://images.unsplash.com/photo-1493932484895-752d1471eab5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1355&q=80)"}}),a("div",{staticClass:"container my-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5 "},[a("img",{staticClass:"card-img-top",attrs:{src:t.product.imageUrl||"https://dummyimage.com/600x300/AAE.jpg",alt:"..."}})]),a("div",{staticClass:"col-md-7"},[a("div",{staticClass:"d-flex product-head bg-light p-3 mb-3 mt-3 mt-md-0"},[a("div",{staticClass:"mr-3"},[a("span",{staticClass:"badge badge-pill badge-info"},[t._v(" "+t._s(t.product.category)+" ")])]),a("h5",{staticClass:"card-title m-0"},[t._v(t._s(t.product.title))])]),a("div",{staticClass:"p-3"},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"text-decoration-line-through mr-3"},[a("del",[t._v("原價 "+t._s(t.product.origin_price))])]),a("div",{staticClass:"h5 text-success"},[t._v("限時特價 "+t._s(t.product.price)+" 元")])]),a("div",{staticClass:"text-right mb-5"},[t._v(" 小計 "+t._s(t.product.price*t.productQty)+" 元 ")]),a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.productQty,expression:"productQty"}],staticClass:"form-control",on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.productQty=s.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0",disabled:"",selected:""}},[t._v("請選擇數量")]),t._l(10,(function(s){return a("option",{key:s,domProps:{value:s}},[t._v(" 選購 "+t._s(s)+" "+t._s(t.product.unit)+" ")])}))],2)]),a("button",{staticClass:"btn btn-primary w-100",class:{disabled:0===t.productQty},attrs:{type:"button"},on:{click:function(s){return t.addtoCart({product_id:t.product.id,qty:t.productQty})}}},[t.status.is_cartbtn_adding?a("font-awesome-icon",{attrs:{icon:"spinner",spin:""}}):t._e(),t._v(" 加到購物車 ")],1)])])]),t.product.description&&t.product.content?a("div",{staticClass:"row"},[t._m(0),a("div",{staticClass:"col-md-8 mx-auto my-5"},[t.product.description?a("div",{staticClass:"mb-4"},[a("h5",[t._v("產品描述")]),a("p",{staticClass:"card-text "},[t._v(" "+t._s(t.product.description)+" ")])]):t._e(),t.product.content?a("div",[a("h5",[t._v("說明內容")]),a("p",{staticClass:"card-text "},[t._v(" "+t._s(t.product.content)+" ")])]):t._e()]),t._m(1)]):t._e()]),a("div",{staticClass:"container"},[a("div",{staticClass:"h2 text-center mb-5"},[t._v("類似商品")]),a("div",{staticClass:"row"},t._l(t.filterProductsByCategory,(function(s,i){return a("div",{key:s.id,staticClass:"col-md-6 col-lg-4 mb-3 mb-md-5 "},[a("div",{staticClass:"card h-100"},[a("img",{staticClass:"card-img-top",attrs:{src:s.imageUrl||"https://dummyimage.com/600x300/AAE.jpg",alt:"..."}}),a("div",{staticClass:"card-body"},[a("div",{staticClass:"d-flex justify-content-between align-item-start"},[a("h5",{staticClass:"card-title"},[t._v(t._s(s.title))]),a("div",[a("span",{staticClass:"badge badge-pill badge-info"},[t._v(" "+t._s(s.category)+" ")])])]),a("p",{staticClass:"card-text text-secondary"},[t._v(" "+t._s(s.description)+" ")]),a("div",{staticClass:"d-flex justify-content-between"},[a("p",{staticClass:"card-text text-decoration-line-through"},[a("del",[t._v("原價 "+t._s(s.origin_price))])]),a("p",{staticClass:"card-text h5 text-right"},[t._v(" 限時特價 "+t._s(s.price)+" 元 ")])])]),a("div",{staticClass:"card-footer d-flex justify-content-between"},[a("button",{staticClass:"btn btn-outline-secondary",on:{click:function(a){return t.openProductDetail(s)}}},[t._v(" 查看更多 ")]),a("button",{staticClass:"btn btn-outline-danger",on:{click:[function(a){return t.addtoCart({product_id:s.id,qty:1})},function(s){s.preventDefault(),t.status.which_cartbtn_adding=i}]}},[t.status.is_cartbtn_adding&&t.status.which_cartbtn_adding==i?a("font-awesome-icon",{attrs:{icon:"spinner",spin:""}}):t._e(),t._v(" 加到購物車 ")],1)])])])})),0)])])},c=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"col-12"},[a("hr")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"col-12"},[a("hr")])}],e=(a("4de4"),a("ac1f"),a("5319"),a("5530")),r=a("2f62"),d={metaInfo:function(){return{title:"".concat(this.product.title," | PsyStore")}},data:function(){return{productQty:0,status:{is_cartbtn_adding:!1,which_cartbtn_adding:0}}},computed:Object(e["a"])({},Object(r["c"])("product",["product","products"]),{routeId:function(){return this.$route.params.id},filterProductsByCategory:function(){var t=this,s=t.product.category;return t.products.filter((function(a){return a.category===s&&a.id!==t.product.id}))}}),methods:Object(e["a"])({},Object(r["b"])("product",["getProduct","getProductsAll"]),{addtoCart:function(t){var s=this,a=this;this.status.is_cartbtn_adding=!0,a.$store.dispatch("cart/addtoCart",t).then((function(t){a.status.is_cartbtn_adding=!1,s.$store.dispatch("alertMessage/updateMessage",{message:"".concat(t.data.message),status:t.data.success?"success":"warning"})}))},openProductDetail:function(t){this.$router.push({name:"productDetail",params:{id:t.id}}),this.$router.replace("/refresh")}}),mounted:function(){this.getProduct(this.routeId),this.getProductsAll()}},o=d,n=a("2877"),u=Object(n["a"])(o,i,c,!1,null,"fc4a0610",null);s["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d21de4f.fed6dfa1.js.map