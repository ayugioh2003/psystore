(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68c85ad5"],{"3ca3":function(t,e,r){"use strict";var n=r("6547").charAt,i=r("69f3"),a=r("7dd0"),o="String Iterator",s=i.set,c=i.getterFor(o);a(String,"String",(function(t){s(this,{type:o,string:String(t),index:0})}),(function(){var t,e=c(this),r=e.string,i=e.index;return i>=r.length?{value:void 0,done:!0}:(t=n(r,i),e.index+=t.length,{value:t,done:!1})}))},"4df4":function(t,e,r){"use strict";var n=r("0366"),i=r("7b0b"),a=r("9bdd"),o=r("e95a"),s=r("50c4"),c=r("8418"),u=r("35a1");t.exports=function(t){var e,r,d,f,l,v,p=i(t),g="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,m=void 0!==b,y=u(p),x=0;if(m&&(b=n(b,h>2?arguments[2]:void 0,2)),void 0==y||g==Array&&o(y))for(e=s(p.length),r=new g(e);e>x;x++)v=m?b(p[x],x):p[x],c(r,x,v);else for(f=y.call(p),l=f.next,r=new g;!(d=l.call(f)).done;x++)v=m?a(f,b,[d.value,x],!0):d.value,c(r,x,v);return r.length=x,r}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var n=r("1d80"),i=r("5899"),a="["+i+"]",o=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),c=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(o,"")),2&t&&(r=r.replace(s,"")),r}};t.exports={start:c(1),end:c(2),trim:c(3)}},6062:function(t,e,r){"use strict";var n=r("6d61"),i=r("6566");t.exports=n("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},6566:function(t,e,r){"use strict";var n=r("9bf2").f,i=r("7c73"),a=r("e2cc"),o=r("0366"),s=r("19aa"),c=r("2266"),u=r("7dd0"),d=r("2626"),f=r("83ab"),l=r("f183").fastKey,v=r("69f3"),p=v.set,g=v.getterFor;t.exports={getConstructor:function(t,e,r,u){var d=t((function(t,n){s(t,d,e),p(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),f||(t.size=0),void 0!=n&&c(n,t[u],t,r)})),v=g(e),h=function(t,e,r){var n,i,a=v(t),o=b(t,e);return o?o.value=r:(a.last=o={index:i=l(e,!0),key:e,value:r,previous:n=a.last,next:void 0,removed:!1},a.first||(a.first=o),n&&(n.next=o),f?a.size++:t.size++,"F"!==i&&(a.index[i]=o)),t},b=function(t,e){var r,n=v(t),i=l(e);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==e)return r};return a(d.prototype,{clear:function(){var t=this,e=v(t),r=e.index,n=e.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete r[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:t.size=0},delete:function(t){var e=this,r=v(e),n=b(e,t);if(n){var i=n.next,a=n.previous;delete r.index[n.index],n.removed=!0,a&&(a.next=i),i&&(i.previous=a),r.first==n&&(r.first=i),r.last==n&&(r.last=a),f?r.size--:e.size--}return!!n},forEach:function(t){var e,r=v(this),n=o(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:r.first){n(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!b(this,t)}}),a(d.prototype,r?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return h(this,0===t?0:t,e)}}:{add:function(t){return h(this,t=0===t?0:t,t)}}),f&&n(d.prototype,"size",{get:function(){return v(this).size}}),d},setStrong:function(t,e,r){var n=e+" Iterator",i=g(e),a=g(n);u(t,e,(function(t,e){p(this,{type:n,target:t,state:i(t),kind:e,last:void 0})}),(function(){var t=a(this),e=t.kind,r=t.last;while(r&&r.removed)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),d(e)}}},"6d61":function(t,e,r){"use strict";var n=r("23e7"),i=r("da84"),a=r("94ca"),o=r("6eeb"),s=r("f183"),c=r("2266"),u=r("19aa"),d=r("861d"),f=r("d039"),l=r("1c7e"),v=r("d44e"),p=r("7156");t.exports=function(t,e,r){var g=-1!==t.indexOf("Map"),h=-1!==t.indexOf("Weak"),b=g?"set":"add",m=i[t],y=m&&m.prototype,x=m,_={},C=function(t){var e=y[t];o(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(h&&!d(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return h&&!d(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(h&&!d(t))&&e.call(this,0===t?0:t)}:function(t,r){return e.call(this,0===t?0:t,r),this})};if(a(t,"function"!=typeof m||!(h||y.forEach&&!f((function(){(new m).entries().next()})))))x=r.getConstructor(e,t,g,b),s.REQUIRED=!0;else if(a(t,!0)){var w=new x,E=w[b](h?{}:-0,1)!=w,I=f((function(){w.has(1)})),S=l((function(t){new m(t)})),A=!h&&f((function(){var t=new m,e=5;while(e--)t[b](e,e);return!t.has(-0)}));S||(x=e((function(e,r){u(e,x,t);var n=p(new m,e,x);return void 0!=r&&c(r,n[b],n,g),n})),x.prototype=y,y.constructor=x),(I||A)&&(C("delete"),C("has"),g&&C("get")),(A||E)&&C(b),h&&y.clear&&delete y.clear}return _[t]=x,n({global:!0,forced:x!=m},_),v(x,t),h||r.setStrong(x,t,g),x}},7156:function(t,e,r){var n=r("861d"),i=r("d2bb");t.exports=function(t,e,r){var a,o;return i&&"function"==typeof(a=e.constructor)&&a!==r&&n(o=a.prototype)&&o!==r.prototype&&i(t,o),t}},"96fc":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"banner bg-cover",staticStyle:{"background-image":"url(https://images.unsplash.com/photo-1493932484895-752d1471eab5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1355&q=80)"}}),r("div",{staticClass:"container mt-5"},[r("div",{staticClass:"row "},[r("div",{staticClass:"col-md-3 mb-5"},[r("div",{staticClass:"list-group sticky-top"},t._l(t.categories,(function(e){return r("button",{key:e,staticClass:"list-group-item list-group-item-action",class:{active:t.routeCategory==e},attrs:{type:"button"},on:{click:function(){t.routeCategory=e}}},[t._v(" "+t._s(e)+" ")])})),0)]),r("div",{staticClass:"col-md-9"},[r("div",{staticClass:"h2 pb-3"},[t._v(t._s(t.routeCategory))]),r("div",{staticClass:"row"},t._l(t.filterProducts,(function(t,e){return r("div",{key:t.id,staticClass:"col-md-6 col-lg-4 mb-3 mb-md-5"},[r("ProductCard",{attrs:{item:t,index:e}})],1)})),0)])])])])},i=[];r("99af"),r("4de4"),r("d81d"),r("d3b7"),r("6062"),r("3ca3"),r("ddb0");function a(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}r("a4d3"),r("e01a"),r("d28b"),r("a630"),r("e260"),r("25f0");function o(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(t){return a(t)||o(t)||s()}var u=r("5530"),d=r("2f62"),f=r("e915"),l={components:{ProductCard:f["a"]},metaInfo:function(){return{title:"".concat(this.$route.params.category,"-商品列表 | PsyStore")}},data:function(){return{status:{is_cartbtn_adding:!1,which_cartbtn_adding:0}}},computed:Object(u["a"])({},Object(d["c"])("product",["products","pagination","favorites"]),{isEnabledProducts:function(){var t=this;return t.products.filter((function(t){return 1===t.is_enabled}))},filterProducts:function(){var t=this;if("所有商品"===t.routeCategory)return t.isEnabledProducts;if("我的最愛"===t.routeCategory)return t.favorites;var e=t.isEnabledProducts.filter((function(e){return e.category===t.routeCategory}));return e},categories:function(){var t=this,e=t.isEnabledProducts.map((function(t){return t.category}));return e=c(new Set(e)),e=["所有商品"].concat(c(e),["我的最愛"]),e},routeCategory:{get:function(){var t=this;return t.$route.params.category||"所有商品"},set:function(t){var e=this;e.$route.params.category!==t&&e.$router.push({name:"ProductList",params:{category:t}})}}}),methods:Object(u["a"])({},Object(d["b"])("product",["getProducts","getProductsAll","getFavorites","addToFavorites","removeFavoritesItem","isFavorite"]),{addtoCart:function(t){var e=this;e.status.is_cartbtn_adding=!0,e.$store.dispatch("cart/addtoCart",t).then((function(t){e.status.is_cartbtn_adding=!1,e.$store.dispatch("alertMessage/updateMessage",{message:"".concat(t.data.message),status:t.data.success?"success":"warning"})}))},openProductDetail:function(t){var e=this;e.$router.push({name:"productDetail",params:{id:t.id}})}}),mounted:function(){var t=this;t.getProductsAll(),t.getFavorites()}},v=l,p=r("2877"),g=Object(p["a"])(v,n,i,!1,null,"39f7d35c",null);e["default"]=g.exports},a630:function(t,e,r){var n=r("23e7"),i=r("4df4"),a=r("1c7e"),o=!a((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:o},{from:i})},a9e3:function(t,e,r){"use strict";var n=r("83ab"),i=r("da84"),a=r("94ca"),o=r("6eeb"),s=r("5135"),c=r("c6b6"),u=r("7156"),d=r("c04e"),f=r("d039"),l=r("7c73"),v=r("241c").f,p=r("06cf").f,g=r("9bf2").f,h=r("58a8").trim,b="Number",m=i[b],y=m.prototype,x=c(l(y))==b,_=function(t){var e,r,n,i,a,o,s,c,u=d(t,!1);if("string"==typeof u&&u.length>2)if(u=h(u),e=u.charCodeAt(0),43===e||45===e){if(r=u.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+u}for(a=u.slice(2),o=a.length,s=0;s<o;s++)if(c=a.charCodeAt(s),c<48||c>i)return NaN;return parseInt(a,n)}return+u};if(a(b,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var C,w=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof w&&(x?f((function(){y.valueOf.call(r)})):c(r)!=b)?u(new m(_(e)),r,w):_(e)},E=n?v(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;E.length>I;I++)s(m,C=E[I])&&!s(w,C)&&g(w,C,p(m,C));w.prototype=y,y.constructor=w,o(i,b,w)}},bb2f:function(t,e,r){var n=r("d039");t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},d28b:function(t,e,r){var n=r("746f");n("iterator")},ddb0:function(t,e,r){var n=r("da84"),i=r("fdbc"),a=r("e260"),o=r("9112"),s=r("b622"),c=s("iterator"),u=s("toStringTag"),d=a.values;for(var f in i){var l=n[f],v=l&&l.prototype;if(v){if(v[c]!==d)try{o(v,c,d)}catch(g){v[c]=d}if(v[u]||o(v,u,f),i[f])for(var p in a)if(v[p]!==a[p])try{o(v,p,a[p])}catch(g){v[p]=a[p]}}}},e01a:function(t,e,r){"use strict";var n=r("23e7"),i=r("83ab"),a=r("da84"),o=r("5135"),s=r("861d"),c=r("9bf2").f,u=r("e893"),d=a.Symbol;if(i&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var f={},l=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof l?new d(t):void 0===t?d():d(t);return""===t&&(f[e]=!0),e};u(l,d);var v=l.prototype=d.prototype;v.constructor=l;var p=v.toString,g="Symbol(test)"==String(d("test")),h=/^Symbol\((.*)\)[^)]+$/;c(v,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(o(f,t))return"";var r=g?e.slice(7,-1):e.replace(h,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:l})}},e915:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card h-100 position-relative"},[r("div",{staticClass:"position-absolute",staticStyle:{right:"0"}},[t.favorites.map((function(t){return t.id})).includes(t.item.id)?r("button",{staticClass:"btn text-danger",on:{click:function(e){return t.removeFavoritesItem(t.item)}}},[r("font-awesome-icon",{attrs:{icon:["fas","heart"],size:"lg"}})],1):t._e(),t.favorites.map((function(t){return t.id})).includes(t.item.id)?t._e():r("button",{staticClass:"btn text-danger",on:{click:function(e){return t.addToFavorites(t.item)}}},[r("font-awesome-icon",{attrs:{icon:["far","heart"],size:"lg"}})],1)]),r("img",{staticClass:"card-img-top",attrs:{src:t.item.imageUrl||"https://dummyimage.com/600x300/AAE.jpg",alt:"..."}}),r("div",{staticClass:"card-body"},[r("div",{staticClass:"d-flex justify-content-between align-item-start"},[r("h5",{staticClass:"card-title"},[t._v(t._s(t.item.title))]),r("div",[r("span",{staticClass:"badge badge-pill badge-info"},[t._v(" "+t._s(t.item.category)+" ")])])]),r("p",{staticClass:"card-text text-secondary"},[t._v(" "+t._s(t.item.description)+" ")]),r("div",{staticClass:"d-flex justify-content-between"},[r("p",{staticClass:"card-text text-decoration-line-through"},[r("del",[t._v("原價 "+t._s(t.item.origin_price))])]),r("p",{staticClass:"card-text h5 text-right"},[t._v("限時特價 "+t._s(t.item.price)+" 元")])])]),r("div",{staticClass:"card-footer d-flex justify-content-between"},[r("button",{staticClass:"btn btn-outline-secondary",on:{click:function(e){return t.openProductDetail(t.item)}}},[t._v(" 查看更多 ")]),r("button",{staticClass:"btn btn-outline-danger",on:{click:[function(e){return t.addtoCart({product_id:t.item.id,qty:1})},function(e){e.preventDefault(),t.status.which_cartbtn_adding=t.index}]}},[t.status.is_cartbtn_adding&&t.status.which_cartbtn_adding==t.index?r("font-awesome-icon",{attrs:{icon:"spinner",spin:""}}):t._e(),t._v(" 加到購物車 ")],1)])])},i=[],a=(r("a9e3"),r("5530")),o=r("2f62"),s={props:{item:Object,index:Number},data:function(){return{status:{is_cartbtn_adding:!1,which_cartbtn_adding:0}}},computed:Object(a["a"])({},Object(o["c"])("product",["products","pagination","favorites"])),methods:Object(a["a"])({},Object(o["b"])("product",["getProducts","getProductsAll","getFavorites","addToFavorites","removeFavoritesItem","isFavorite"]),{addtoCart:function(t){var e=this;e.status.is_cartbtn_adding=!0,e.$store.dispatch("cart/addtoCart",t).then((function(t){e.status.is_cartbtn_adding=!1,e.$store.dispatch("alertMessage/updateMessage",{message:"".concat(t.data.message),status:t.data.success?"success":"warning"})}))},openProductDetail:function(t){var e=this;e.$router.push({name:"productDetail",params:{id:t.id}}),e.$router.push("/refresh")}}),mounted:function(){var t=this;t.getProductsAll(),t.getFavorites()}},c=s,u=r("2877"),d=Object(u["a"])(c,n,i,!1,null,null,null);e["a"]=d.exports},f183:function(t,e,r){var n=r("d012"),i=r("861d"),a=r("5135"),o=r("9bf2").f,s=r("90e3"),c=r("bb2f"),u=s("meta"),d=0,f=Object.isExtensible||function(){return!0},l=function(t){o(t,u,{value:{objectID:"O"+ ++d,weakData:{}}})},v=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,u)){if(!f(t))return"F";if(!e)return"E";l(t)}return t[u].objectID},p=function(t,e){if(!a(t,u)){if(!f(t))return!0;if(!e)return!1;l(t)}return t[u].weakData},g=function(t){return c&&h.REQUIRED&&f(t)&&!a(t,u)&&l(t),t},h=t.exports={REQUIRED:!1,fastKey:v,getWeakData:p,onFreeze:g};n[u]=!0}}]);
//# sourceMappingURL=chunk-68c85ad5.9ed30073.js.map