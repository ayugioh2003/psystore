(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b09fa6c"],{5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,s){var a=s("1d80"),i=s("5899"),r="["+i+"]",c=RegExp("^"+r+r+"*"),n=RegExp(r+r+"*$"),o=function(t){return function(e){var s=String(a(e));return 1&t&&(s=s.replace(c,"")),2&t&&(s=s.replace(n,"")),s}};t.exports={start:o(1),end:o(2),trim:o(3)}},7156:function(t,e,s){var a=s("861d"),i=s("d2bb");t.exports=function(t,e,s){var r,c;return i&&"function"==typeof(r=e.constructor)&&r!==s&&a(c=r.prototype)&&c!==s.prototype&&i(t,c),t}},a9e3:function(t,e,s){"use strict";var a=s("83ab"),i=s("da84"),r=s("94ca"),c=s("6eeb"),n=s("5135"),o=s("c6b6"),d=s("7156"),u=s("c04e"),l=s("d039"),p=s("7c73"),f=s("241c").f,m=s("06cf").f,v=s("9bf2").f,g=s("58a8").trim,_="Number",b=i[_],h=b.prototype,C=o(p(h))==_,y=function(t){var e,s,a,i,r,c,n,o,d=u(t,!1);if("string"==typeof d&&d.length>2)if(d=g(d),e=d.charCodeAt(0),43===e||45===e){if(s=d.charCodeAt(2),88===s||120===s)return NaN}else if(48===e){switch(d.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+d}for(r=d.slice(2),c=r.length,n=0;n<c;n++)if(o=r.charCodeAt(n),o<48||o>i)return NaN;return parseInt(r,a)}return+d};if(r(_,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var x,w=function(t){var e=arguments.length<1?0:t,s=this;return s instanceof w&&(C?l((function(){h.valueOf.call(s)})):o(s)!=_)?d(new b(y(e)),s,w):y(e)},I=a?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;I.length>E;E++)n(b,x=I[E])&&!n(w,x)&&v(w,x,m(b,x));w.prototype=h,h.constructor=w,c(i,_,w)}},d2f1:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"banner bg-cover",staticStyle:{"background-image":"url(https://images.unsplash.com/photo-1493932484895-752d1471eab5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1355&q=80)"}}),s("div",{staticClass:"container my-5"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-5 position-relative"},[s("div",{staticClass:"position-absolute",staticStyle:{right:"16px"}},[t.favorites.map((function(t){return t.id})).includes(t.product.id)?s("button",{staticClass:"btn text-danger",on:{click:function(e){return t.removeFavoritesItem(t.product)}}},[s("font-awesome-icon",{attrs:{icon:["fas","heart"],size:"lg"}})],1):t._e(),t.favorites.map((function(t){return t.id})).includes(t.product.id)?t._e():s("button",{staticClass:"btn text-danger",on:{click:function(e){return t.addToFavorites(t.product)}}},[s("font-awesome-icon",{attrs:{icon:["far","heart"],size:"lg"}})],1)]),s("img",{staticClass:"card-img-top",attrs:{src:t.product.imageUrl||"https://dummyimage.com/600x300/AAE.jpg",alt:"..."}})]),s("div",{staticClass:"col-md-7"},[s("div",{staticClass:"d-flex product-head bg-light p-3 mb-3 mt-3 mt-md-0"},[s("div",{staticClass:"mr-3"},[s("span",{staticClass:"badge badge-pill badge-info"},[t._v(" "+t._s(t.product.category)+" ")])]),s("h5",{staticClass:"card-title m-0"},[t._v(t._s(t.product.title))])]),s("div",{staticClass:"p-3"},[s("div",{staticClass:"d-flex"},[s("div",{staticClass:"text-decoration-line-through mr-3"},[s("del",[t._v("原價 "+t._s(t.product.origin_price))])]),s("div",{staticClass:"h5 text-success"},[t._v("限時特價 "+t._s(t.product.price)+" 元")])]),s("div",{staticClass:"text-right mb-5"},[t._v(" 小計 "+t._s(t.product.price*t.productQty)+" 元 ")]),s("div",{staticClass:"form-group"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.productQty,expression:"productQty"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.productQty=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"0",disabled:"",selected:""}},[t._v("請選擇數量")]),t._l(10,(function(e){return s("option",{key:e,domProps:{value:e}},[t._v(" 選購 "+t._s(e)+" "+t._s(t.product.unit)+" ")])}))],2)]),s("button",{staticClass:"btn btn-primary w-100",class:{disabled:0===t.productQty},attrs:{type:"button"},on:{click:function(e){return t.addtoCart({product_id:t.product.id,qty:t.productQty})}}},[t.status.is_cartbtn_adding?s("font-awesome-icon",{attrs:{icon:"spinner",spin:""}}):t._e(),t._v(" 加到購物車 ")],1)])])]),t.product.description&&t.product.content?s("div",{staticClass:"row"},[t._m(0),s("div",{staticClass:"col-md-8 mx-auto my-5"},[t.product.description?s("div",{staticClass:"mb-4"},[s("h5",[t._v("產品描述")]),s("p",{staticClass:"card-text "},[t._v(" "+t._s(t.product.description)+" ")])]):t._e(),t.product.content?s("div",[s("h5",[t._v("說明內容")]),s("p",{staticClass:"card-text "},[t._v(" "+t._s(t.product.content)+" ")])]):t._e()]),t._m(1)]):t._e()]),s("div",{staticClass:"container"},[s("div",{staticClass:"h2 text-center mb-5"},[t._v("類似商品")]),s("div",{staticClass:"row"},t._l(t.filterProductsByCategory,(function(t,e){return s("div",{key:t.id,staticClass:"col-md-6 col-lg-4 mb-3 mb-md-5 "},[s("ProductCard",{attrs:{item:t,index:e}})],1)})),0)])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12"},[s("hr")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12"},[s("hr")])}],r=(s("4de4"),s("ac1f"),s("5319"),s("5530")),c=s("2f62"),n=s("e915"),o={components:{ProductCard:n["a"]},metaInfo:function(){return{title:"".concat(this.product.title," | PsyStore")}},data:function(){return{productQty:0,status:{is_cartbtn_adding:!1,which_cartbtn_adding:0}}},computed:Object(r["a"])({},Object(c["c"])("product",["product","products","favorites"]),{routeId:function(){return this.$route.params.id},filterProductsByCategory:function(){var t=this,e=t.product.category;return t.products.filter((function(s){return s.category===e&&s.id!==t.product.id}))}}),methods:Object(r["a"])({},Object(c["b"])("product",["getProduct","getProductsAll","getFavorites","addToFavorites","removeFavoritesItem"]),{addtoCart:function(t){var e=this,s=this;this.status.is_cartbtn_adding=!0,s.$store.dispatch("cart/addtoCart",t).then((function(t){s.status.is_cartbtn_adding=!1,e.$store.dispatch("alertMessage/updateMessage",{message:"".concat(t.data.message),status:t.data.success?"success":"warning"})}))},openProductDetail:function(t){this.$router.push({name:"productDetail",params:{id:t.id}}),this.$router.replace("/refresh")}}),mounted:function(){this.getProduct(this.routeId),this.getProductsAll()}},d=o,u=s("2877"),l=Object(u["a"])(d,a,i,!1,null,"650b4d38",null);e["default"]=l.exports},e915:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card h-100 position-relative"},[s("div",{staticClass:"position-absolute",staticStyle:{right:"0"}},[t.favorites.map((function(t){return t.id})).includes(t.item.id)?s("button",{staticClass:"btn text-danger",on:{click:function(e){return t.removeFavoritesItem(t.item)}}},[s("font-awesome-icon",{attrs:{icon:["fas","heart"],size:"lg"}})],1):t._e(),t.favorites.map((function(t){return t.id})).includes(t.item.id)?t._e():s("button",{staticClass:"btn text-danger",on:{click:function(e){return t.addToFavorites(t.item)}}},[s("font-awesome-icon",{attrs:{icon:["far","heart"],size:"lg"}})],1)]),s("img",{staticClass:"card-img-top",attrs:{src:t.item.imageUrl||"https://dummyimage.com/600x300/AAE.jpg",alt:"..."}}),s("div",{staticClass:"card-body"},[s("div",{staticClass:"d-flex justify-content-between align-item-start"},[s("h5",{staticClass:"card-title"},[t._v(t._s(t.item.title))]),s("div",[s("span",{staticClass:"badge badge-pill badge-info"},[t._v(" "+t._s(t.item.category)+" ")])])]),s("p",{staticClass:"card-text text-secondary"},[t._v(" "+t._s(t.item.description)+" ")]),s("div",{staticClass:"d-flex justify-content-between"},[s("p",{staticClass:"card-text text-decoration-line-through"},[s("del",[t._v("原價 "+t._s(t.item.origin_price))])]),s("p",{staticClass:"card-text h5 text-right"},[t._v("限時特價 "+t._s(t.item.price)+" 元")])])]),s("div",{staticClass:"card-footer d-flex justify-content-between"},[s("button",{staticClass:"btn btn-outline-secondary",on:{click:function(e){return t.openProductDetail(t.item)}}},[t._v(" 查看更多 ")]),s("button",{staticClass:"btn btn-outline-danger",on:{click:[function(e){return t.addtoCart({product_id:t.item.id,qty:1})},function(e){e.preventDefault(),t.status.which_cartbtn_adding=t.index}]}},[t.status.is_cartbtn_adding&&t.status.which_cartbtn_adding==t.index?s("font-awesome-icon",{attrs:{icon:"spinner",spin:""}}):t._e(),t._v(" 加到購物車 ")],1)])])},i=[],r=(s("a9e3"),s("5530")),c=s("2f62"),n={props:{item:Object,index:Number},data:function(){return{status:{is_cartbtn_adding:!1,which_cartbtn_adding:0}}},computed:Object(r["a"])({},Object(c["c"])("product",["products","pagination","favorites"])),methods:Object(r["a"])({},Object(c["b"])("product",["getProducts","getProductsAll","getFavorites","addToFavorites","removeFavoritesItem","isFavorite"]),{addtoCart:function(t){var e=this,s=this;s.status.is_cartbtn_adding=!0,s.$store.dispatch("cart/addtoCart",t).then((function(t){s.status.is_cartbtn_adding=!1,e.$store.dispatch("alertMessage/updateMessage",{message:"".concat(t.data.message),status:t.data.success?"success":"warning"})}))},openProductDetail:function(t){this.$router.push({name:"productDetail",params:{id:t.id}}),this.$router.push("/refresh")}}),mounted:function(){this.getProductsAll(),this.getFavorites()}},o=n,d=s("2877"),u=Object(d["a"])(o,a,i,!1,null,null,null);e["a"]=u.exports}}]);
//# sourceMappingURL=chunk-2b09fa6c.5322b22a.js.map