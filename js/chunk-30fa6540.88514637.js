(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30fa6540"],{5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var s=a("1d80"),i=a("5899"),r="["+i+"]",c=RegExp("^"+r+r+"*"),n=RegExp(r+r+"*$"),o=function(t){return function(e){var a=String(s(e));return 1&t&&(a=a.replace(c,"")),2&t&&(a=a.replace(n,"")),a}};t.exports={start:o(1),end:o(2),trim:o(3)}},"658f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"banner bg-cover",staticStyle:{"background-image":"url(https://images.unsplash.com/photo-1493932484895-752d1471eab5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1355&q=80)"}}),a("div",{staticClass:"container my-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5 position-relative"},[a("div",{staticClass:"position-absolute",staticStyle:{right:"16px"}},[t.favorites.map((function(t){return t.id})).includes(t.product.id)?a("button",{staticClass:"btn text-danger",on:{click:function(e){return t.removeFavoritesItem(t.product)}}},[a("font-awesome-icon",{attrs:{icon:["fas","heart"],size:"lg"}})],1):t._e(),t.favorites.map((function(t){return t.id})).includes(t.product.id)?t._e():a("button",{staticClass:"btn text-danger",on:{click:function(e){return t.addToFavorites(t.product)}}},[a("font-awesome-icon",{attrs:{icon:["far","heart"],size:"lg"}})],1)]),a("img",{staticClass:"card-img-top",attrs:{src:t.product.imageUrl||"https://dummyimage.com/600x300/AAE.jpg",alt:"..."}})]),a("div",{staticClass:"col-md-7"},[a("div",{staticClass:"d-flex product-head bg-light p-3 mb-3 mt-3 mt-md-0"},[a("div",{staticClass:"mr-3"},[a("span",{staticClass:"badge badge-pill badge-info"},[t._v(" "+t._s(t.product.category)+" ")])]),a("h5",{staticClass:"card-title m-0"},[t._v(t._s(t.product.title))])]),a("div",{staticClass:"p-3"},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"text-decoration-line-through mr-3"},[a("del",[t._v("原價 "+t._s(t.product.origin_price))])]),a("div",{staticClass:"h5 text-success"},[t._v("限時特價 "+t._s(t.product.price)+" 元")])]),a("div",{staticClass:"text-right mb-5"},[t._v(" 小計 "+t._s(t.product.price*t.productQty)+" 元 ")]),a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.productQty,expression:"productQty"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.productQty=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0",disabled:"",selected:""}},[t._v("請選擇數量")]),t._l(10,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" 選購 "+t._s(e)+" "+t._s(t.product.unit)+" ")])}))],2)]),a("button",{staticClass:"btn btn-primary w-100",class:{disabled:0===t.productQty},attrs:{type:"button"},on:{click:function(e){return t.addtoCart({product_id:t.product.id,qty:t.productQty})}}},[t.status.is_cartbtn_adding?a("font-awesome-icon",{attrs:{icon:"spinner",spin:""}}):t._e(),t._v(" 加到購物車 ")],1)])])]),t.product.description&&t.product.content?a("div",{staticClass:"row"},[t._m(0),a("div",{staticClass:"col-md-8 mx-auto my-5"},[t.product.description?a("div",{staticClass:"mb-4"},[a("h5",[t._v("產品描述")]),a("p",{staticClass:"card-text "},[t._v(" "+t._s(t.product.description)+" ")])]):t._e(),t.product.content?a("div",[a("h5",[t._v("說明內容")]),a("p",{staticClass:"card-text "},[t._v(" "+t._s(t.product.content)+" ")])]):t._e()]),t._m(1)]):t._e()]),a("div",{staticClass:"container"},[a("div",{staticClass:"h2 text-center mb-5"},[t._v("類似商品")]),a("div",{staticClass:"row"},t._l(t.filterProductsByCategory,(function(t,e){return a("div",{key:t.id,staticClass:"col-md-6 col-lg-4 mb-3 mb-md-5 "},[a("ProductCard",{attrs:{item:t,index:e}})],1)})),0)])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12"},[a("hr")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12"},[a("hr")])}],r=(a("4de4"),a("5530")),c=a("2f62"),n=a("e915"),o={components:{ProductCard:n["a"]},metaInfo:function(){return{title:"".concat(this.product.title," | PsyStore")}},data:function(){return{productQty:0,status:{is_cartbtn_adding:!1,which_cartbtn_adding:0}}},computed:Object(r["a"])({},Object(c["c"])("product",["product","products","favorites"]),{routeId:function(){var t=this;return t.$route.params.id},filterProductsByCategory:function(){var t=this,e=t.product.category;return t.products.filter((function(a){return a.category===e&&a.id!==t.product.id}))}}),watch:{routeId:function(){var t=this;t.getProduct(t.routeId)}},methods:Object(r["a"])({},Object(c["b"])("product",["getProduct","getProductsAll","getFavorites","addToFavorites","removeFavoritesItem"]),{addtoCart:function(t){var e=this;e.status.is_cartbtn_adding=!0,e.$store.dispatch("cart/addtoCart",t).then((function(t){e.status.is_cartbtn_adding=!1,e.$store.dispatch("alertMessage/updateMessage",{message:"".concat(t.data.message),status:t.data.success?"success":"warning"})}))}}),mounted:function(){var t=this;t.getProduct(t.routeId),t.getProductsAll(),t.getFavorites()}},d=o,u=a("2877"),l=Object(u["a"])(d,s,i,!1,null,"4d69b99e",null);e["default"]=l.exports},7156:function(t,e,a){var s=a("861d"),i=a("d2bb");t.exports=function(t,e,a){var r,c;return i&&"function"==typeof(r=e.constructor)&&r!==a&&s(c=r.prototype)&&c!==a.prototype&&i(t,c),t}},a9e3:function(t,e,a){"use strict";var s=a("83ab"),i=a("da84"),r=a("94ca"),c=a("6eeb"),n=a("5135"),o=a("c6b6"),d=a("7156"),u=a("c04e"),l=a("d039"),p=a("7c73"),f=a("241c").f,v=a("06cf").f,m=a("9bf2").f,_=a("58a8").trim,g="Number",b=i[g],h=b.prototype,C=o(p(h))==g,y=function(t){var e,a,s,i,r,c,n,o,d=u(t,!1);if("string"==typeof d&&d.length>2)if(d=_(d),e=d.charCodeAt(0),43===e||45===e){if(a=d.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(d.charCodeAt(1)){case 66:case 98:s=2,i=49;break;case 79:case 111:s=8,i=55;break;default:return+d}for(r=d.slice(2),c=r.length,n=0;n<c;n++)if(o=r.charCodeAt(n),o<48||o>i)return NaN;return parseInt(r,s)}return+d};if(r(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var x,w=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof w&&(C?l((function(){h.valueOf.call(a)})):o(a)!=g)?d(new b(y(e)),a,w):y(e)},I=s?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;I.length>E;E++)n(b,x=I[E])&&!n(w,x)&&m(w,x,v(b,x));w.prototype=h,h.constructor=w,c(i,g,w)}},e915:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card h-100 position-relative"},[a("div",{staticClass:"position-absolute",staticStyle:{right:"0"}},[t.favorites.map((function(t){return t.id})).includes(t.item.id)?a("button",{staticClass:"btn text-danger",on:{click:function(e){return t.removeFavoritesItem(t.item)}}},[a("font-awesome-icon",{attrs:{icon:["fas","heart"],size:"lg"}})],1):t._e(),t.favorites.map((function(t){return t.id})).includes(t.item.id)?t._e():a("button",{staticClass:"btn text-danger",on:{click:function(e){return t.addToFavorites(t.item)}}},[a("font-awesome-icon",{attrs:{icon:["far","heart"],size:"lg"}})],1)]),a("img",{staticClass:"card-img-top",attrs:{src:t.item.imageUrl||"https://dummyimage.com/600x300/AAE.jpg",alt:"..."}}),a("div",{staticClass:"card-body"},[a("div",{staticClass:"d-flex justify-content-between align-item-start"},[a("h5",{staticClass:"card-title"},[t._v(t._s(t.item.title))]),a("div",[a("span",{staticClass:"badge badge-pill badge-info"},[t._v(" "+t._s(t.item.category)+" ")])])]),a("p",{staticClass:"card-text text-secondary"},[t._v(" "+t._s(t.item.description)+" ")]),a("div",{staticClass:"d-flex justify-content-between"},[a("p",{staticClass:"card-text text-decoration-line-through"},[a("del",[t._v("原價 "+t._s(t.item.origin_price))])]),a("p",{staticClass:"card-text h5 text-right"},[t._v("限時特價 "+t._s(t.item.price)+" 元")])])]),a("div",{staticClass:"card-footer d-flex justify-content-between"},[a("button",{staticClass:"btn btn-outline-secondary",on:{click:function(e){return t.openProductDetail(t.item)}}},[t._v(" 查看更多 ")]),a("button",{staticClass:"btn btn-outline-danger",on:{click:[function(e){return t.addtoCart({product_id:t.item.id,qty:1})},function(e){e.preventDefault(),t.status.which_cartbtn_adding=t.index}]}},[t.status.is_cartbtn_adding&&t.status.which_cartbtn_adding==t.index?a("font-awesome-icon",{attrs:{icon:"spinner",spin:""}}):t._e(),t._v(" 加到購物車 ")],1)])])},i=[],r=(a("a9e3"),a("5530")),c=a("2f62"),n={props:{item:Object,index:Number},data:function(){return{status:{is_cartbtn_adding:!1,which_cartbtn_adding:0}}},computed:Object(r["a"])({},Object(c["c"])("product",["favorites"])),methods:Object(r["a"])({},Object(c["b"])("product",["addToFavorites","removeFavoritesItem","isFavorite"]),{addtoCart:function(t){var e=this;e.status.is_cartbtn_adding=!0,e.$store.dispatch("cart/addtoCart",t).then((function(t){e.status.is_cartbtn_adding=!1,e.$store.dispatch("alertMessage/updateMessage",{message:"".concat(t.data.message),status:t.data.success?"success":"warning"})}))},openProductDetail:function(t){var e=this;e.$router.push({name:"productDetail",params:{id:t.id}})}})},o=n,d=a("2877"),u=Object(d["a"])(o,s,i,!1,null,null,null);e["a"]=u.exports}}]);
//# sourceMappingURL=chunk-30fa6540.88514637.js.map